!function(){var t={7633:function(t,e,n){n(9170),n(1539),n(8674),n(7922),n(4668),n(7727),n(8783),n(3948);var i=n(857);t.exports=i.Promise},3867:function(t,e,n){var i=n(7633);n(8628),n(7314),n(7479),n(6290),t.exports=i},3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,n){var i=n(111);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,n){var i=n(5112),r=n(30),o=n(3070),a=i("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:r(null)}),t.exports=function(t){s[a][t]=!0}},5787:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:function(t,e,n){var i=n(111);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},1318:function(t,e,n){var i=n(5656),r=n(7466),o=n(1400),a=function(t){return function(e,n,a){var s,c=i(e),u=r(c.length),l=o(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},7072:function(t,e,n){var i=n(5112)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,n){var i=n(1694),r=n(4326),o=n(5112)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},9920:function(t,e,n){var i=n(6656),r=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e){for(var n=r(e),s=a.f,c=o.f,u=0;u<n.length;u++){var l=n[u];i(t,l)||s(t,l,c(e,l))}}},8544:function(t,e,n){var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,n){"use strict";var i=n(3383).IteratorPrototype,r=n(30),o=n(9114),a=n(8003),s=n(7497),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),a(t,u,!1,!0),s[u]=c,t}},8880:function(t,e,n){var i=n(9781),r=n(3070),o=n(9114);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},654:function(t,e,n){"use strict";var i=n(2109),r=n(4994),o=n(9518),a=n(7674),s=n(8003),c=n(8880),u=n(1320),l=n(5112),f=n(1913),p=n(7497),d=n(3383),h=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=l("iterator"),v="keys",y="values",b="entries",x=function(){return this};t.exports=function(t,e,n,l,d,w,E){r(n,e,l);var T,S,O,A=function(t){if(t===d&&C)return C;if(!m&&t in k)return k[t];switch(t){case v:case y:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},I=e+" Iterator",P=!1,k=t.prototype,L=k[g]||k["@@iterator"]||d&&k[d],C=!m&&L||A(d),B="Array"==e&&k.entries||L;if(B&&(T=o(B.call(new t)),h!==Object.prototype&&T.next&&(f||o(T)===h||(a?a(T,h):"function"!=typeof T[g]&&c(T,g,x)),s(T,I,!0,!0),f&&(p[I]=x))),d==y&&L&&L.name!==y&&(P=!0,C=function(){return L.call(this)}),f&&!E||k[g]===C||c(k,g,C),p[e]=C,d)if(S={values:A(y),keys:w?C:A(v),entries:A(b)},E)for(O in S)(m||P||!(O in k))&&u(k,O,S[O]);else i({target:e,proto:!0,forced:m||P},S);return S}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var i=n(7854),r=n(111),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7871:function(t){t.exports="object"==typeof window},6833:function(t,e,n){var i=n(8113);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},5268:function(t,e,n){var i=n(4326),r=n(7854);t.exports="process"==i(r.process)},1036:function(t,e,n){var i=n(8113);t.exports=/web0s(?!.*chrome)/i.test(i)},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,r,o=n(7854),a=n(8113),s=o.process,c=s&&s.versions,u=c&&c.v8;u?r=(i=u.split("."))[0]<4?1:i[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var i=n(7854),r=n(1236).f,o=n(8880),a=n(1320),s=n(3505),c=n(9920),u=n(4705);t.exports=function(t,e){var n,l,f,p,d,h=t.target,m=t.global,g=t.stat;if(n=m?i:g?i[h]||s(h,{}):(i[h]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=r(n,l))&&d.value:n[l],!u(m?l:h+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),a(n,l,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:function(t,e,n){var i=n(3099);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},5005:function(t,e,n){var i=n(857),r=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},1246:function(t,e,n){var i=n(648),r=n(7497),o=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t,e,n){var i=n(7908),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(i(t),e)}},3501:function(t){t.exports={}},842:function(t,e,n){var i=n(7854);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},490:function(t,e,n){var i=n(5005);t.exports=i("document","documentElement")},4664:function(t,e,n){var i=n(9781),r=n(7293),o=n(317);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var i=n(7293),r=n(4326),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},2788:function(t,e,n){var i=n(5465),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},9909:function(t,e,n){var i,r,o,a=n(8536),s=n(7854),c=n(111),u=n(8880),l=n(6656),f=n(5465),p=n(6200),d=n(3501),h="Object already initialized",m=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new m),v=g.get,y=g.has,b=g.set;i=function(t,e){if(y.call(g,t))throw new TypeError(h);return e.facade=t,b.call(g,t,e),e},r=function(t){return v.call(g,t)||{}},o=function(t){return y.call(g,t)}}else{var x=p("state");d[x]=!0,i=function(t,e){if(l(t,x))throw new TypeError(h);return e.facade=t,u(t,x,e),e},r=function(t){return l(t,x)?t[x]:{}},o=function(t){return l(t,x)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var i=n(5112),r=n(7497),o=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},4705:function(t,e,n){var i=n(7293),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},408:function(t,e,n){var i=n(9670),r=n(7659),o=n(7466),a=n(9974),s=n(1246),c=n(9212),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,f,p,d,h,m,g,v=n&&n.that,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),w=a(e,v,1+y+x),E=function(t){return l&&c(l),new u(!0,t)},T=function(t){return y?(i(t),x?w(t[0],t[1],E):w(t[0],t[1])):x?w(t,E):w(t)};if(b)l=t;else{if("function"!=typeof(f=s(t)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,d=o(t.length);d>p;p++)if((h=T(t[p]))&&h instanceof u)return h;return new u(!1)}l=f.call(t)}for(m=l.next;!(g=m.call(l)).done;){try{h=T(g.value)}catch(t){throw c(l),t}if("object"==typeof h&&h&&h instanceof u)return h}return new u(!1)}},9212:function(t,e,n){var i=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return i(e.call(t)).value}},3383:function(t,e,n){"use strict";var i,r,o,a=n(7293),s=n(9518),c=n(8880),u=n(6656),l=n(5112),f=n(1913),p=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(r=s(s(o)))!==Object.prototype&&(i=r):d=!0);var h=null==i||a((function(){var t={};return i[p].call(t)!==t}));h&&(i={}),f&&!h||u(i,p)||c(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},7497:function(t){t.exports={}},5948:function(t,e,n){var i,r,o,a,s,c,u,l,f=n(7854),p=n(1236).f,d=n(261).set,h=n(6833),m=n(1036),g=n(5268),v=f.MutationObserver||f.WebKitMutationObserver,y=f.document,b=f.process,x=f.Promise,w=p(f,"queueMicrotask"),E=w&&w.value;E||(i=function(){var t,e;for(g&&(t=b.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():o=void 0,t}}o=void 0,t&&t.enter()},h||g||m||!v||!y?x&&x.resolve?((u=x.resolve(void 0)).constructor=x,l=u.then,a=function(){l.call(u,i)}):a=g?function(){b.nextTick(i)}:function(){d.call(f,i)}:(s=!0,c=y.createTextNode(""),new v(i).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,a()),o=e}},3366:function(t,e,n){var i=n(7854);t.exports=i.Promise},133:function(t,e,n){var i=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(t,e,n){var i=n(7854),r=n(2788),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},8523:function(t,e,n){"use strict";var i=n(3099),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},30:function(t,e,n){var i,r=n(9670),o=n(6048),a=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200),f=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"</"+"script>"},h=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=i?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=r(t),n=new p,p.prototype=null,n[f]=t):n=h(),void 0===e?n:o(n,e)}},6048:function(t,e,n){var i=n(9781),r=n(3070),o=n(9670),a=n(1956);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,c=0;s>c;)r.f(t,n=i[c++],e[n]);return t}},3070:function(t,e,n){var i=n(9781),r=n(4664),o=n(9670),a=n(7593),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),r=n(5296),o=n(9114),a=n(5656),s=n(7593),c=n(6656),u=n(4664),l=Object.getOwnPropertyDescriptor;e.f=i?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},8006:function(t,e,n){var i=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(6656),r=n(7908),o=n(6200),a=n(8544),s=o("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},6324:function(t,e,n){var i=n(6656),r=n(5656),o=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,s=r(t),c=0,u=[];for(n in s)!i(a,n)&&i(s,n)&&u.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~o(u,n)||u.push(n));return u}},1956:function(t,e,n){var i=n(6324),r=n(748);t.exports=Object.keys||function(t){return i(t,r)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},288:function(t,e,n){"use strict";var i=n(1694),r=n(648);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},3887:function(t,e,n){var i=n(5005),r=n(8006),o=n(5181),a=n(9670);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},857:function(t,e,n){var i=n(7854);t.exports=i},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:function(t,e,n){var i=n(9670),r=n(111),o=n(8523);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},2248:function(t,e,n){var i=n(1320);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},1320:function(t,e,n){var i=n(7854),r=n(8880),o=n(6656),a=n(3505),s=n(2788),c=n(9909),u=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var c,u=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),(c=l(n)).source||(c.source=f.join("string"==typeof e?e:""))),t!==i?(u?!d&&t[e]&&(p=!0):delete t[e],p?t[e]=n:r(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,n){var i=n(7854),r=n(8880);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},6340:function(t,e,n){"use strict";var i=n(5005),r=n(3070),o=n(5112),a=n(9781),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var i=n(3070).f,r=n(6656),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},6200:function(t,e,n){var i=n(2309),r=n(9711),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},5465:function(t,e,n){var i=n(7854),r=n(3505),o="__core-js_shared__",a=i[o]||r(o,{});t.exports=a},2309:function(t,e,n){var i=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:i?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var i=n(9670),r=n(3099),o=n(5112)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},8710:function(t,e,n){var i=n(9958),r=n(4488),o=function(t){return function(e,n){var o,a,s=String(r(e)),c=i(n),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},261:function(t,e,n){var i,r,o,a=n(7854),s=n(7293),c=n(9974),u=n(490),l=n(317),f=n(6833),p=n(5268),d=a.location,h=a.setImmediate,m=a.clearImmediate,g=a.process,v=a.MessageChannel,y=a.Dispatch,b=0,x={},w="onreadystatechange",E=function(t){if(x.hasOwnProperty(t)){var e=x[t];delete x[t],e()}},T=function(t){return function(){E(t)}},S=function(t){E(t.data)},O=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};h&&m||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return x[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(b),b},m=function(t){delete x[t]},p?i=function(t){g.nextTick(T(t))}:y&&y.now?i=function(t){y.now(T(t))}:v&&!f?(o=(r=new v).port2,r.port1.onmessage=S,i=c(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!s(O)?(i=O,a.addEventListener("message",S,!1)):i=w in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),E(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:h,clear:m}},1400:function(t,e,n){var i=n(9958),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},5656:function(t,e,n){var i=n(8361),r=n(4488);t.exports=function(t){return i(r(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var i=n(9958),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(4488);t.exports=function(t){return Object(i(t))}},7593:function(t,e,n){var i=n(111);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,n){var i={};i[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,n){var i=n(7854),r=n(2309),o=n(6656),a=n(9711),s=n(133),c=n(3307),u=r("wks"),l=i.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return o(u,t)&&(s||"string"==typeof u[t])||(s&&o(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},9170:function(t,e,n){"use strict";var i=n(2109),r=n(9518),o=n(7674),a=n(30),s=n(8880),c=n(9114),u=n(408),l=function(t,e){var n=this;if(!(n instanceof l))return new l(t,e);o&&(n=o(new Error(void 0),r(n))),void 0!==e&&s(n,"message",String(e));var i=[];return u(t,i.push,{that:i}),s(n,"errors",i),n};l.prototype=a(Error.prototype,{constructor:c(5,l),message:c(5,""),name:c(5,"AggregateError")}),i({global:!0},{AggregateError:l})},6992:function(t,e,n){"use strict";var i=n(5656),r=n(1223),o=n(7497),a=n(9909),s=n(654),c="Array Iterator",u=a.set,l=a.getterFor(c);t.exports=s(Array,"Array",(function(t,e){u(this,{type:c,target:i(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},1539:function(t,e,n){var i=n(1694),r=n(1320),o=n(288);i||r(Object.prototype,"toString",o,{unsafe:!0})},7922:function(t,e,n){"use strict";var i=n(2109),r=n(3099),o=n(8523),a=n(2534),s=n(408);i({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),i=n.resolve,c=n.reject,u=a((function(){var n=r(e.resolve),o=[],a=0,c=1;s(t,(function(t){var r=a++,s=!1;o.push(void 0),c++,n.call(e,t).then((function(t){s||(s=!0,o[r]={status:"fulfilled",value:t},--c||i(o))}),(function(t){s||(s=!0,o[r]={status:"rejected",reason:t},--c||i(o))}))})),--c||i(o)}));return u.error&&c(u.value),n.promise}})},4668:function(t,e,n){"use strict";var i=n(2109),r=n(3099),o=n(5005),a=n(8523),s=n(2534),c=n(408),u="No one promise resolved";i({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),i=n.resolve,l=n.reject,f=s((function(){var n=r(e.resolve),a=[],s=0,f=1,p=!1;c(t,(function(t){var r=s++,c=!1;a.push(void 0),f++,n.call(e,t).then((function(t){c||p||(p=!0,i(t))}),(function(t){c||p||(c=!0,a[r]=t,--f||l(new(o("AggregateError"))(a,u)))}))})),--f||l(new(o("AggregateError"))(a,u))}));return f.error&&l(f.value),n.promise}})},7727:function(t,e,n){"use strict";var i=n(2109),r=n(1913),o=n(3366),a=n(7293),s=n(5005),c=n(6707),u=n(9478),l=n(1320);if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!r&&"function"==typeof o){var f=s("Promise").prototype.finally;o.prototype.finally!==f&&l(o.prototype,"finally",f,{unsafe:!0})}},8674:function(t,e,n){"use strict";var i,r,o,a,s=n(2109),c=n(1913),u=n(7854),l=n(5005),f=n(3366),p=n(1320),d=n(2248),h=n(7674),m=n(8003),g=n(6340),v=n(111),y=n(3099),b=n(5787),x=n(2788),w=n(408),E=n(7072),T=n(6707),S=n(261).set,O=n(5948),A=n(9478),I=n(842),P=n(8523),k=n(2534),L=n(9909),C=n(4705),B=n(5112),F=n(7871),j=n(5268),M=n(7392),R=B("species"),_="Promise",H=L.get,z=L.set,D=L.getterFor(_),W=f&&f.prototype,N=f,G=W,K=u.TypeError,U=u.document,Z=u.process,q=P.f,V=q,X=!!(U&&U.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,Q="unhandledrejection",J=!1,$=C(_,(function(){var t=x(N),e=t!==String(N);if(!e&&66===M)return!0;if(c&&!G.finally)return!0;if(M>=51&&/native code/.test(t))return!1;var n=new N((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};return(n.constructor={})[R]=i,!(J=n.then((function(){}))instanceof i)||!e&&F&&!Y})),tt=$||!E((function(t){N.all(t).catch((function(){}))})),et=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},nt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;O((function(){for(var i=t.value,r=1==t.state,o=0;n.length>o;){var a,s,c,u=n[o++],l=r?u.ok:u.fail,f=u.resolve,p=u.reject,d=u.domain;try{l?(r||(2===t.rejection&&at(t),t.rejection=1),!0===l?a=i:(d&&d.enter(),a=l(i),d&&(d.exit(),c=!0)),a===u.promise?p(K("Promise-chain cycle")):(s=et(a))?s.call(a,f,p):f(a)):p(i)}catch(t){d&&!c&&d.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&rt(t)}))}},it=function(t,e,n){var i,r;X?((i=U.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),u.dispatchEvent(i)):i={promise:e,reason:n},!Y&&(r=u["on"+t])?r(i):t===Q&&I("Unhandled promise rejection",n)},rt=function(t){S.call(u,(function(){var e,n=t.facade,i=t.value;if(ot(t)&&(e=k((function(){j?Z.emit("unhandledRejection",i,n):it(Q,n,i)})),t.rejection=j||ot(t)?2:1,e.error))throw e.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},at=function(t){S.call(u,(function(){var e=t.facade;j?Z.emit("rejectionHandled",e):it("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(i){t(e,i,n)}},ct=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,nt(t,!0))},ut=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw K("Promise can't be resolved itself");var i=et(e);i?O((function(){var n={done:!1};try{i.call(e,st(ut,n,t),st(ct,n,t))}catch(e){ct(n,e,t)}})):(t.value=e,t.state=1,nt(t,!1))}catch(e){ct({done:!1},e,t)}}};if($&&(G=(N=function(t){b(this,N,_),y(t),i.call(this);var e=H(this);try{t(st(ut,e),st(ct,e))}catch(t){ct(e,t)}}).prototype,(i=function(t){z(this,{type:_,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(G,{then:function(t,e){var n=D(this),i=q(T(this,N));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=j?Z.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&nt(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=H(t);this.promise=t,this.resolve=st(ut,e),this.reject=st(ct,e)},P.f=q=function(t){return t===N||t===o?new r(t):V(t)},!c&&"function"==typeof f&&W!==Object.prototype)){a=W.then,J||(p(W,"then",(function(t,e){var n=this;return new N((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),p(W,"catch",G.catch,{unsafe:!0}));try{delete W.constructor}catch(t){}h&&h(W,G)}s({global:!0,wrap:!0,forced:$},{Promise:N}),m(N,_,!1,!0),g(_),o=l(_),s({target:_,stat:!0,forced:$},{reject:function(t){var e=q(this);return e.reject.call(void 0,t),e.promise}}),s({target:_,stat:!0,forced:c||$},{resolve:function(t){return A(c&&this===o?N:this,t)}}),s({target:_,stat:!0,forced:tt},{all:function(t){var e=this,n=q(e),i=n.resolve,r=n.reject,o=k((function(){var n=y(e.resolve),o=[],a=0,s=1;w(t,(function(t){var c=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=q(e),i=n.reject,r=k((function(){var r=y(e.resolve);w(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},8783:function(t,e,n){"use strict";var i=n(8710).charAt,r=n(9909),o=n(654),a="String Iterator",s=r.set,c=r.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},8628:function(t,e,n){n(9170)},7314:function(t,e,n){n(7922)},6290:function(t,e,n){n(4668)},7479:function(t,e,n){"use strict";var i=n(2109),r=n(8523),o=n(2534);i({target:"Promise",stat:!0},{try:function(t){var e=r.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},3948:function(t,e,n){var i=n(7854),r=n(8324),o=n(6992),a=n(8880),s=n(5112),c=s("iterator"),u=s("toStringTag"),l=o.values;for(var f in r){var p=i[f],d=p&&p.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(t){d[c]=l}if(d[u]||a(d,u,f),r[f])for(var h in o)if(d[h]!==o[h])try{a(d,h,o[h])}catch(t){d[h]=o[h]}}}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=function(){function e(){}return e.extend=function(){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&("object"===t(arguments[0][n])&&"object"===t(arguments[e][n])?this.extend(arguments[0][n],arguments[e][n]):arguments[0][n]=arguments[e][n]);return arguments[0]},e.stripHTML=function(t){var n=document.createElement("div");return n.innerHTML=e.htmlDecode(t),n.textContent||n.innerText||""},e.htmlDecode=function(t){return t&&""!==t?(new DOMParser).parseFromString(t,"text/html").documentElement.textContent:""},e.project=function(t,e,n,i,r){return i+(r-i)*(t-e)/(n-e)},e.constrain=function(t,e,n){return Math.min(n,Math.max(e,t))},e.findClosest=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";if(!t)return null;for("."===e.substr(0,1)&&(e=e.substr(1));!t.classList.contains(e)&&(t=t.parentElement););return t},e.isMobileDevice=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e},e}(),i=function(){function t(e,n,i){var r=this;this.selector=n,this.descriptionsContainer=document.createElement("div"),this.descriptionsContainer.classList.add("h5p-agamotto-descriptions-container"),this.descriptionWrappers=this.buildDescriptionWrappers(e),this.descriptionWrappers.forEach((function(t){r.descriptionsContainer.appendChild(t)})),this.descriptionWrappers[0].classList.remove("h5p-agamotto-hidden"),this.currentDescriptionText=this.descriptionWrappers[0].textContent,this.descriptionsContainer.addEventListener("mouseup",(function(e){-1!==t.TAGS_FOR_PROPAGATION_STOPPING.indexOf(e.target.tagName)&&(e.stopPropagation(),i.xAPIInteracted())}))}var n=t.prototype;return n.getDOM=function(){return this.descriptionsContainer},n.buildDescriptionWrappers=function(t){var e=[];return Array.isArray(t)?(t.forEach((function(t){var n=document.createElement("div");n.classList.add("h5p-agamotto-description-bottom"),n.classList.add("h5p-agamotto-hidden"),n.setAttribute("aria-hidden","true"),n.innerHTML=t,e.push(n)})),e):e},n.getCurrentDescriptionText=function(){return this.currentDescriptionText},n.setText=function(t,n){this.descriptionWrappers.forEach((function(t){t.classList.add("h5p-agamotto-hidden")}));var i=this.descriptionWrappers[t],r=this.descriptionWrappers[e.constrain(t+1,0,this.descriptionWrappers.length-1)];i.classList.remove("h5p-agamotto-hidden"),r.classList.remove("h5p-agamotto-hidden"),i.style.opacity=n,i!==r&&(r.style.opacity=1-n),this.currentDescriptionText=n>.5?i.textContent:r.textContent},n.resize=function(){var t=this,e=0;setTimeout((function(){t.descriptionWrappers.forEach((function(t){e=Math.max(e,t.offsetHeight)})),t.descriptionsContainer.style.height="".concat(e,"px")}),0)},t}();i.TAGS_FOR_PROPAGATION_STOPPING=["A","EM","STRONG","SUB","SUP","SPAN"];var r=i,o=n(3867),a=n.n(o),s=function(){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000";this.images=t,this.images.map((function(t){t.alt=e.stripHTML(t.alt),t.title=e.stripHTML(t.title),t.description=e.stripHTML(t.description)})),this.ratio=this.images[0].img.naturalWidth/this.images[0].img.naturalHeight;for(var i=this.images[0].img.naturalWidth,r=this.images[0].img.naturalHeight,o=0;o<this.images.length;o++){var a=i,s=r,c=this.images[o].img.naturalWidth,u=this.images[o].img.naturalHeight;c/u<this.ratio&&u>s&&(u=s,c*=s/this.images[o].img.naturalHeight),c/u>this.ratio&&c>a&&(c=a,u*=a/this.images[o].img.naturalWidth),c/u===this.ratio&&(a=Math.max(a,c),s=Math.max(s,u));var l=e.constrain((a-c)/2,0,a),f=e.constrain((s-u)/2,0,s),p=document.createElement("canvas");p.setAttribute("width",a),p.setAttribute("height",s);var d=p.getContext("2d");d.beginPath(),d.rect(0,0,a,s),d.fillStyle=n,d.fill(),d.drawImage(this.images[o].img,l,f,c,u);var h=new Image,m=p.toDataURL("image/jpeg");h.crossOrigin=this.images[o].img.crossOrigin,h.src=m,this.images[o].img=h}this.imageTop=document.createElement("img"),this.imageTop.classList.add("h5p-agamotto-image-top"),this.imageTop.src=t[0].img.src,this.imageTop.setAttribute("draggable","false"),this.imageTop.setAttribute("alt",this.images[0].alt),this.imageTop.setAttribute("title",this.images[0].title),this.imageTop.setAttribute("aria-label",""!==this.images[0].alt?"".concat(t[0].alt,". ").concat(this.images[0].description):this.images[0].description),this.imageBottom=document.createElement("img"),this.imageBottom.classList.add("h5p-agamotto-image-bottom"),this.imageBottom.src=this.images[1].img.src,this.imageBottom.setAttribute("draggable","false"),this.imageBottom.setAttribute("aria-hidden",!0),this.container=document.createElement("div"),this.container.classList.add("h5p-agamotto-images-container"),this.container.appendChild(this.imageTop),this.container.appendChild(this.imageBottom)}var n=t.prototype;return n.getDOM=function(){return this.container},n.getCurrentAltTag=function(){return this.imageTop.getAttribute("alt")},n.getAltTitleTags=function(){return this.images.map((function(t){return t.alt||t.title}))},n.setImage=function(t,n){var i=e.constrain(t+Math.round(1-n),0,this.images.length-1);this.imageBottom.src=this.images[e.constrain(t+1,0,this.images.length-1)].img.src,this.imageTop.src=this.images[t].img.src,this.imageTop.setAttribute("alt",this.images[i].alt),this.imageTop.setAttribute("title",this.images[i].title),this.imageTop.setAttribute("aria-label",""!==this.images[i].alt?"".concat(this.images[i].alt,". ").concat(this.images[i].description):this.images[i].description),this.imageTop.style.opacity=n},n.resize=function(){var t=this;setTimeout((function(){t.container.style.height=t.container.offsetWidth/t.ratio+"px"}),0)},n.getSize=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},n.getRatio=function(){return this.ratio},n.getTopOpacity=function(){return parseFloat(this.imageTop.style.opacity||"")},t.loadImage=function(t,e){return new(a())((function(n,i){var r=new Image;if(r.onload=function(){n(r)},r.onerror=function(t){i(t)},void 0!==H5P.setSource)H5P.setSource(r,t.params.file,e);else{var o=H5P.getPath(t.params.file.path,e);r.crossOrigin=void 0!==H5P.getCrossOrigin?H5P.getCrossOrigin(o):"Anonymous",r.src=o}}))},t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){var n,i;function r(n){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(i=t.call(this)||this).params=e.extend({snap:!0,ticks:!1,labels:!1,startRatio:0},n),i.callbacks=o,i.callbacks.onButtonFullscreenClicked=o.onButtonFullscreenClicked||function(){},i.selector=n.selector,i.parent=n.parent,i.trackWidth=0,i.audioButtonOffset=0,i.thumbPosition=0,i.ratio=n.startRatio,i.ticks=[],i.labels=[],i.sliderdown=!1,i.keydown=!1,i.interactionstarted=!1,i.extraInitResizes=1,i.container=document.createElement("div"),i.container.classList.add("h5p-agamotto-slider-container"),i.params.audio&&(i.muted=!1,i.audioButton=document.createElement("button"),i.audioButton.classList.add("h5p-agamotto-slider-button"),i.audioButton.classList.add("h5p-agamotto-slider-audio-unmuted"),i.audioButton.setAttribute("tabindex",0),i.audioButton.setAttribute("aria-label",i.params.a11y.mute),i.audioButtonOffset=28,i.audioButton.addEventListener("click",(function(t){i.handleClickAudioButton(t)})),i.audioButton.addEventListener("touchstart",(function(t){i.handleClickAudioButton(t)})),i.container.appendChild(i.audioButton)),i.track=document.createElement("div"),i.track.classList.add("h5p-agamotto-slider-track"),i.container.appendChild(i.track),i.thumb=document.createElement("div"),i.thumb.classList.add("h5p-agamotto-slider-thumb"),i.thumb.setAttribute("tabindex",0),i.thumb.setAttribute("role","slider"),i.thumb.setAttribute("aria-label",i.params.a11y.imageSlider),i.container.appendChild(i.thumb),i.fullscreenButton=document.createElement("button"),i.fullscreenButton.classList.add("h5p-agamotto-slider-button"),i.fullscreenButton.classList.add("h5p-agamotto-slider-fullscreen"),i.fullscreenButton.classList.add("h5p-agamotto-slider-fullscreen-enter"),i.fullscreenButton.setAttribute("aria-label",i.params.a11y.buttonFullscreenEnter),i.fullscreenButton.classList.add("h5p-agamotto-button-none"),i.fullscreenButton.setAttribute("tabindex",0),i.fullscreenButton.addEventListener("click",(function(t){i.handleClickFullscreenButton(t)})),i.fullscreenButton.addEventListener("touchstart",(function(t){i.handleClickFullscreenButton(t)})),i.container.appendChild(i.fullscreenButton);var a=0;if(!0===i.params.ticks){var s=function(t){i.setPosition(parseInt(t.target.style.left)-r.TRACK_OFFSET-i.audioButtonOffset,!0)};for(a=0;a<=i.params.size;a++)i.ticks[a]=document.createElement("div"),i.ticks[a].classList.add("h5p-agamotto-tick"),i.ticks[a].addEventListener("click",s),i.container.appendChild(i.ticks[a])}if(!0===i.params.labels)for(a=0;a<=i.params.size;a++)i.labels[a]=document.createElement("div"),i.labels[a].classList.add("h5p-agamotto-tick-label"),i.labels[a].innerHTML=i.params.labelTexts[a],i.container.appendChild(i.labels[a]);return document.addEventListener("mousemove",(function(t){i.sliderdown&&i.setPosition(t,!1)})),document.addEventListener("mouseup",(function(){i.sliderdown&&(i.sliderdown=!1,i.snap())})),i.track.addEventListener("mousedown",(function(t){t=t||window.event,i.sliderdown=!0,i.setPosition(t,!1)})),i.thumb.addEventListener("mousedown",(function(t){t=t||window.event,i.sliderdown=!0,i.setPosition(t,!1)})),i.container.addEventListener("touchstart",(function(t){t.target!==i.fullscreenButton&&t.target!==i.audioButton&&((t=t||window.event).preventDefault(),t.stopPropagation(),i.setPosition(t,!1))})),i.container.addEventListener("touchmove",(function(t){t.target!==i.fullscreenButton&&t.target!==i.audioButton&&((t=t||window.event).preventDefault(),t.stopPropagation(),i.setPosition(t,!1))})),i.container.addEventListener("touchend",(function(t){t.target!==i.fullscreenButton&&t.target!==i.audioButton&&((t=t||window.event).preventDefault(),t.stopPropagation(),i.snap())})),i.thumb.addEventListener("keydown",(function(t){if(!1===i.keydown)switch((t=t||window.event).which||t.keyCode){case 35:i.handleKeyMove(t,i.params.size);break;case 36:i.handleKeyMove(t,0);break;case 37:case 38:i.handleKeyMove(t,i.getCurrentItemId(!0)-1);break;case 39:case 40:i.handleKeyMove(t,i.getCurrentItemId(!0)+1)}})),i.thumb.addEventListener("keyup",(function(t){((t=t||window.event).which||t.keyCode)===i.keydown&&(i.keydown=!1,parent.xAPIInteracted(),parent.xAPICompleted())})),i}i=t,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,u(n,i);var o=r.prototype;return o.isMuted=function(){return this.muted},o.handleClickFullscreenButton=function(t){return t.preventDefault(),this.callbacks.onButtonFullscreenClicked(),!1},o.enableFullscreenButton=function(){this.fullscreenButton.classList.remove("h5p-agamotto-button-none")},o.removeFullscreenButton=function(){this.container.removeChild(this.fullscreenButton),this.resize()},o.setFullScreenButtonTitle=function(t){this.fullscreenButton&&(t?this.fullscreenButton.setAttribute("aria-label",this.params.a11y.buttonFullscreenExit):this.fullscreenButton.setAttribute("aria-label",this.params.a11y.buttonFullscreenEnter))},o.handleClickAudioButton=function(t){return t.preventDefault(),this.toggleAudioButton(),!1},o.toggleAudioButton=function(t){this.audioButton&&("boolean"==typeof t&&(this.muted=!t),this.isMuted()?(this.audioButton.classList.remove("h5p-agamotto-slider-audio-muted"),this.audioButton.classList.add("h5p-agamotto-slider-audio-unmuted"),this.audioButton.setAttribute("aria-label",this.params.a11y.mute),this.trigger("unmuted"),this.muted=!1):(this.muted=!0,this.trigger("muted"),this.audioButton.classList.remove("h5p-agamotto-slider-audio-unmuted"),this.audioButton.classList.add("h5p-agamotto-slider-audio-muted"),this.audioButton.setAttribute("aria-label",this.params.a11y.unmute)))},o.handleKeyMove=function(t,n){t.preventDefault(),this.keydown=t.which||t.keyCode,n=e.constrain(n,0,this.params.size),this.setPosition(e.project(n,0,this.params.size,0,this.getWidth()),!0)},o.handleTouchMove=function(t){(t=t||window.event).preventDefault(),t.stopPropagation(),this.setPosition(t,!1)},o.getCurrentItemId=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.getPosition()/this.getWidth()*this.params.size;return t&&(n=e.constrain(0,Math.round(n),this.params.size)),n},o.getDOM=function(){return this.container},o.disable=function(){this.track.classList.add("h5p-agamotto-disabled"),this.thumb.classList.add("h5p-agamotto-disabled")},o.enable=function(){this.track.classList.remove("h5p-agamotto-disabled"),this.thumb.classList.remove("h5p-agamotto-disabled")},o.setWidth=function(t){this.params.audio&&(this.track.style.left="".concat(r.TRACK_OFFSET+this.audioButtonOffset,"px"));var e=this.fullscreenButton.offsetWidth+4;this.trackWidth=t-this.audioButtonOffset-e,this.track.style.width="".concat(t-this.audioButtonOffset-e,"px")},o.getWidth=function(){return this.trackWidth},o.setPosition=function(t,n,i){if(!this.thumb.classList.contains("h5p-agamotto-disabled")){t="string"==typeof t||"number"==typeof t?parseInt(t):"object"===c(t)?this.getPointerX(t)-this.computeTrackOffset()-this.audioButtonOffset:0,t=e.constrain(t,0,this.getWidth()),!0===n?this.thumb.classList.add("h5p-agamotto-transition"):this.thumb.classList.remove("h5p-agamotto-transition"),i||(this.ratio=t/this.getWidth()),this.thumb.style.left=t+r.THUMB_OFFSET+this.audioButtonOffset+"px";var o=Math.round(t/this.getWidth()*100),a=this.getCurrentItemId()||0;this.thumb.setAttribute("aria-valuetext",this.params.labels?this.labels[a].innerHTML:this.params.altTitleTexts[a]||"".concat(this.params.a11y.image," ").concat(a+1)),this.trigger("update",{position:t,percentage:o})}},o.getPosition=function(){return this.thumb.style.left?parseInt(this.thumb.style.left)-r.THUMB_OFFSET:0},o.isUsed=function(){return this.sliderdown},o.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.thumb.focus(t)},o.snap=function(){if(!0===this.params.snap){var t=Math.round(e.project(this.ratio,0,1,0,this.params.size));this.setPosition(t*this.getWidth()/this.params.size,!0)}this.parent.xAPIInteracted(),this.parent.xAPICompleted()},o.getPointerX=function(t){return t.touches?t.touches[0].pageX:t.clientX},o.resize=function(){if(!(this.getWidth()===parseInt(this.container.offsetWidth)-2*r.TRACK_OFFSET&&this.extraInitResizes<0)){this.extraInitResizes--,this.setWidth(parseInt(this.container.offsetWidth)-2*r.TRACK_OFFSET),this.setPosition(this.getWidth()*this.ratio,!1,!0);var t=0;if(!0===this.params.ticks)for(t=0;t<this.ticks.length;t++)this.ticks[t].style.left=r.TRACK_OFFSET+this.audioButtonOffset+t*this.getWidth()/(this.ticks.length-1)+"px";var e=0,n=!1;if(!0===this.params.labels){for(t=0;t<this.labels.length;t++){switch(e=Math.max(e,parseInt(window.getComputedStyle(this.labels[t]).height)),t){case 0:this.labels[t].style.left=r.TRACK_OFFSET/2+this.audioButtonOffset+"px";break;case this.labels.length-1:this.labels[t].style.right=r.TRACK_OFFSET/2+this.fullscreenButton.offsetWidth+4+"px";break;default:var i=Math.ceil(parseInt(window.getComputedStyle(this.labels[t]).width))/2;this.labels[t].style.left=r.TRACK_OFFSET+t*this.getWidth()/(this.labels.length-1)-i+this.audioButtonOffset+"px"}t<this.labels.length-1&&!n&&(n=this.areOverlapping(this.labels[t],this.labels[t+1]))}n?(this.labels.forEach((function(t){t.classList.add("h5p-agamotto-hidden")})),e=0):this.labels.forEach((function(t){t.classList.remove("h5p-agamotto-hidden")}));var o=!0===this.params.ticks||n||0===e?0:-7;this.container.style.height=r.CONTAINER_DEFAULT_HEIGHT+e+o+"px"}}},o.computeTrackOffset=function(){var t=e.findClosest(this.container,"h5p-question-content");if(t){var n=window.getComputedStyle(t);return H5P.isFullscreen?this.container.offsetLeft+r.TRACK_OFFSET:t.getBoundingClientRect().left+parseInt(n.paddingLeft)+r.TRACK_OFFSET}return this.container.offsetLeft+r.TRACK_OFFSET},o.areOverlapping=function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return!(n.right<i.left||n.left>i.right||n.bottom<i.top||n.top>i.bottom)},r}(H5P.EventDispatcher);l.CONTAINER_DEFAULT_HEIGHT=36,l.TRACK_OFFSET=16,l.THUMB_OFFSET=8;var f=l,p=function(){function t(t){this.classNameBase=t,this.container=document.createElement("div"),this.container.classList.add("".concat(this.classNameBase,"-container")),this.spinnerElement=document.createElement("div"),this.spinnerElement.classList.add(t);var e=document.createElement("div");e.classList.add("".concat(this.classNameBase,"-circle-head")),this.spinnerElement.appendChild(e);var n=document.createElement("div");n.classList.add("".concat(this.classNameBase,"-circle-neck-upper")),this.spinnerElement.appendChild(n);var i=document.createElement("div");i.classList.add("".concat(this.classNameBase,"-circle-neck-lower")),this.spinnerElement.appendChild(i);var r=document.createElement("div");r.classList.add("".concat(this.classNameBase,"-circle-body")),this.spinnerElement.appendChild(r),this.container.appendChild(this.spinnerElement)}var e=t.prototype;return e.getDOM=function(){return this.container},e.show=function(){this.container.classList.remove("".concat(this.classNameBase,"-none"))},e.hide=function(){this.container.classList.add("".concat(this.classNameBase,"-none"))},t}();function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(t){var n,i;function o(n,i,c){var u;return u=t.call(this,"agamotto")||this,n.items?(u.params=n,u.params.items=o.sanitizeItems(u.params.items),u.params=e.extend({items:[],behaviour:{startImage:1,snap:!0,ticks:!1,labels:!1,transparencyReplacementColor:"#000000",imagesDescriptionsRatio:70},a11y:{image:"Image",imageSlider:"Image slider",mute:"Mute",unmute:"Unmute",buttonFullscreenEnter:"Enter fullscreen mode",buttonFullscreenExit:"Exit fullscreen mode"}},u.params),u.extras=c,u.maxItem=u.params.items.length-1,u.startImage=e.constrain(u.params.behaviour.startImage-1,0,u.maxItem),u.selector=".h5p-agamotto-wrapper",u.previousSizes=[],u.imagesRepeatedZeroHeight=0,u.hasDescription=u.params.items.some((function(t){return""!==t.description})),u.contentId=i,u.imageContainer=void 0,u.position=0,u.imagesViewed=[],u.completed=!1,u.updateContent=function(t,e){e=Math.round(10*e)/10,(!u.slider.isUsed()||e!==u.images.getTopOpacity()||1===e&&u.position!==t)&&(u.setAudio(t,e),u.images.setImage(t,e),u.hasDescription&&u.descriptions.setText(t,e),u.position=Math.round(t+(1-e)),!1===u.completed&&-1===u.imagesViewed.indexOf(u.position)&&u.imagesViewed.push(u.position))},u.setAudio=function(t,e){var n=Math.round(1+t-e);n!==u.currentAudioId&&(u.currentAudioId=n,u.muted||(u.stopAudios(),u.audios[n]&&u.startAudio(u.currentAudioId)))},u.startAudio=function(t){if(!(u.audios.length<=t)){var e=u.audios[t];e&&(e.promise||(e.promise=e.player.play(),e.promise.finally((function(){e.promise=null})).catch((function(){u.slider.toggleAudioButton(!0)}))))}},u.stopAudios=function(){u.audios.forEach((function(t){t&&(t.promise?t.promise.then((function(){t.player.pause(),t.player.load(),t.promise=null})):(t.player.pause(),t.player.load()))}))},u.registerDomElements=function(){u.setContent(u.createDOM())},u.createDOM=function(){var t=document.createElement("div");if(t.classList.add("h5p-agamotto"),!u.params.items||u.maxItem<1){var n=document.createElement("div");return n.classList.add("h5p-agamotto-warning"),n.innerHTML="I really need at least two images :-)",t.appendChild(n),t}u.spinner=new p("h5p-agamotto-spinner"),t.appendChild(u.spinner.getDOM()),u.audios=u.createAudios(u.params.items),u.audios.forEach((function(e){e&&t.append(e.player)}));var i=[];return u.params.items.forEach((function(t){i.push(s.loadImage(t.image,u.contentId))})),a().all(i).then((function(n){u.images=n.map((function(t,e){return{img:t,alt:u.params.items[e].image.params.alt,title:u.params.items[e].image.params.title,description:u.params.items[e].description}})),u.spinner.hide(),u.wrapper=document.createElement("div"),u.wrapper.classList.add("h5p-agamotto-wrapper"),t.appendChild(u.wrapper),u.params.title&&(u.title=document.createElement("div"),u.title.classList.add("h5p-agamotto-title"),u.title.innerHTML="<h2>".concat(u.params.title,"</h2>"),u.wrapper.appendChild(u.title)),u.images=new s(u.images,u.params.behaviour.transparencyReplacementColor),u.wrapper.appendChild(u.images.getDOM()),u.images.resize();for(var i=[],o=0;o<=u.maxItem;o++)i[o]=u.params.items[o].labelText||"";if(u.slider=new f({audio:u.hasAudio(),snap:u.params.behaviour.snap,ticks:u.params.behaviour.ticks,labels:u.params.behaviour.labels,labelTexts:i,altTitleTexts:u.images.getAltTitleTags(),startRatio:u.startImage/u.maxItem,size:u.maxItem,a11y:{image:u.params.a11y.image,imageSlider:u.params.a11y.imageSlider,mute:u.params.a11y.mute,unmute:u.params.a11y.unmute,buttonFullscreenEnter:u.params.a11y.buttonFullscreenEnter,buttonFullscreenExit:u.params.a11y.buttonFullscreenExit},selector:u.selector,parent:d(u)},{onButtonFullscreenClicked:function(){u.handleFullscreenClicked()}}),u.wrapper.appendChild(u.slider.getDOM()),u.slider.resize(),u.hasDescription){for(var a=[],c=0;c<=u.maxItem;c++)a[c]=u.params.items[c].description;u.descriptions=new r(a,u.selector,d(u),u.contentId),u.wrapper.appendChild(u.descriptions.getDOM()),u.descriptions.resize(),u.heightDescriptions=u.descriptions.offsetHeight}else u.heightDescriptions=0;u.imageContainer=u.images.getDOM(),u.imageContainer.addEventListener("click",(function(){u.slider.focus({preventScroll:!0})})),u.xAPIExperienced(),u.slider.on("update",(function(t){var n=e.project(t.data.position,5,u.slider.getWidth()-5,0,u.maxItem),i=e.constrain(Math.floor(n),0,u.maxItem),r=1-e.constrain(n-i,0,1),o=.5*(1-Math.cos(Math.PI*r));u.updateContent(i,o)})),u.slider.on("muted",(function(){u.muted=!0,u.stopAudios()})),u.slider.on("unmuted",(function(){u.muted=!1,u.startAudio(u.currentAudioId)})),u.on("resize",(function(){u.handleResize()})),u.container=document.querySelector(".h5p-container"),u.container&&!u.noFullscreen&&(u.slider.enableFullscreenButton(),u.on("enterFullScreen",(function(){setTimeout((function(){u.setFixedSize(!0),u.slider.setFullScreenButtonTitle(!0)}),250)})),u.on("exitFullScreen",(function(){u.setFixedSize(!1),u.slider.setFullScreenButtonTitle(!1)})),window.addEventListener("orientationchange",(function(){H5P.isFullscreen?setTimeout((function(){u.setFixedSize(!0)}),250):u.setFixedSize(!1)}),!1)),u.trigger("resize")})).catch((function(t){})),t},u.handleResize=function(){if(e.isMobileDevice()&&90===Math.abs(window.orientation)){var t=/iPhone/.test(navigator.userAgent)?screen.width:screen.height;u.wrapper.style.width=Math.round(t/2*u.images.getRatio())+"px"}else u.wrapper.style.width="auto";u.images.resize(),u.hasDescription&&u.descriptions.resize(),u.slider.resize(),window.requestAnimationFrame((function(){u.previousSizes.push(u.images.getSize()),u.previousSizes.length>o.RESIZE_REPETITIONS&&u.previousSizes.shift(),u.isResizeNeeded()&&(clearTimeout(u.extraResize),u.extraResize=setTimeout((function(){u.trigger("resize")}),o.RESIZE_COOLING_PERIOD))}))},u.isResizeNeeded=function(){var t=u.previousSizes.length<o.RESIZE_REPETITIONS;if(t||((t=u.previousSizes.some((function(t){return 0===t.height})))?u.imagesRepeatedZeroHeight++:u.imagesRepeatedZeroHeight=0,u.imagesRepeatedZeroHeight===o.RESIZE_REPETITIONS_ZERO_HEIGHT&&(u.imagesRepeatedZeroHeight=0,t=!1)),!t){var e={};u.previousSizes.map((function(t){return"".concat(t.width,"|").concat(t.height)})).forEach((function(t){e[t]=!0})),t=Object.keys(e).length===o.RESIZE_REPETITIONS}return t},u.createAudios=function(t){var e=[];return t.forEach((function(t){if(!t.audio||t.audio.length<1||!t.audio[0].path)e.push(null);else{var n=document.createElement("audio");n.style.display="none",n.src=H5P.getPath(t.audio[0].path,u.contentId),e.push({player:n,promise:null})}})),e},u.hasAudio=function(){return u.audios.some((function(t){return null!==t}))},u.announceARIA=function(t){t=void 0!==t?e.htmlDecode("".concat(t," ")):"";var n=u.descriptions?u.descriptions.getCurrentDescriptionText():"",i="".concat(t).concat(u.images.getCurrentAltTag(),". ").concat(n);i=e.stripHTML(i),u.read(i)},u.xAPIExperienced=function(){u.triggerXAPI("experienced")},u.xAPIInteracted=function(){u.triggerXAPI("interacted")},u.xAPICompleted=function(){u.imagesViewed.length!==u.params.items.length||u.completed||(u.triggerXAPI("completed"),u.completed=!0)},u.getTitle=function(){return H5P.createTitle(u.extras.metadata&&u.extras.metadata.title?u.extras.metadata.title:"Agamotto")},u.handleFullscreenClicked=function(){setTimeout((function(){u.toggleFullscreen()}),300)},u.toggleFullscreen=function(t){u.container&&("string"==typeof t&&("enter"===t?t=!1:"exit"===t&&(t=!0)),"boolean"!=typeof t&&(t=!H5P.isFullscreen),!0===t?H5P.fullScreen(H5P.jQuery(u.container),d(u)):H5P.exitFullScreen())},u.removeFullscreenButton=function(){u.slider?u.slider.removeFullscreenButton():u.noFullscreen=!0},u.setFixedSize=function(t){var e=u.images.getDOM(),n=u.slider.getDOM(),i=u.descriptions?u.descriptions.getDOM():null;u.title&&(u.title.style.maxWidth=""),e.style.maxWidth="",e.style.maxHeight="",n.style.maxWidth="",i&&(i.style.maxHeight="",i.style.maxWidth="",i.style.overflowY=""),setTimeout((function(){if(t){var r=u.title?u.title.offsetHeight:0,o=n.offsetHeight,a=window.innerHeight-2*u.wrapper.offsetTop-r-o,s=i?a*u.params.behaviour.imagesDescriptionsRatio/100:a;if(e.offsetHeight>s){var c="".concat(s*e.offsetWidth/e.offsetHeight,"px");u.title&&(u.title.style.maxWidth=c),e.style.maxWidth=c,n.style.maxWidth=c,i&&(i.style.maxWidth=c)}else s=e.offsetHeight;e.style.maxHeight="".concat(s,"px"),i&&i.offsetHeight>a-s&&(i.style.maxHeight="".concat(a-s,"px"),i.style.overflowY="auto")}window.requestAnimationFrame((function(){u.slider.resize(),u.images.resize(),u.trigger("resize")}))}),0)},u):d(u)}return i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,h(n,i),o.sanitizeItems=function(t){return t=t.filter((function(t){return!!(t.image&&t.image.params&&t.image.params.file)})).splice(0,50).map((function(t){return t.image.params.alt=t.image.params.alt||"",t.image.params.title=t.image.params.title||"",t}))},o}(H5P.Question);m.DEFAULT_DESCRIPTION="Agamotto",m.RESIZE_COOLING_PERIOD=75,m.RESIZE_REPETITIONS=3,m.RESIZE_REPETITIONS_ZERO_HEIGHT=50;var g=m;H5P=H5P||{},H5P.Agamotto=g}()}();